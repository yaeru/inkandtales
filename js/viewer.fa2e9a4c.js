(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["viewer"],{"17a4":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"uk-modal-share","uk-modal":""}},[s("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical uk-modal-body uk-text-center uk-border-rounded"},[s("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),s("h2",{staticClass:"uk-modal-title"},[t._v(t._s(t._f("translate")("SHARE"))),s("br",{staticClass:"uk-hidden@m"}),t._v(" "+t._s(t.serie.Title))]),s("ShareNetwork",{attrs:{network:"twitter",url:"https://inkandtales.com/#/serie/"+t.serie.id,title:"Leer "+t.serie.Title+" en Ink&Takes",description:t.serie.Description,hashtags:(t.serie.Title+",InkAndTales").replace(/\s*,\s*/g,",").replace(/\s+/g,"")}},[s("div",{staticClass:"uk-button uk-button-primary"},[s("span",{attrs:{"uk-icon":"icon: facebook"}}),t._v(" Twitter ")])]),s("ShareNetwork",{attrs:{network:"facebook",url:"https://inkandtales.com/#/serie/"+t.serie.id,title:"Leer "+t.serie.Title+" en Ink&Takes",description:t.serie.Description,quote:t.serie.Title+": "+t.serie.Description,hashtags:(t.serie.Title+",InkAndTales").replace(/\s*,\s*/g,",").replace(/\s+/g,"")}},[s("div",{staticClass:"uk-button uk-button-primary"},[s("span",{attrs:{"uk-icon":"icon: facebook"}}),t._v(" Facebook ")])]),s("ShareNetwork",{attrs:{network:"pinterest",url:"https://inkandtales.com/#/serie/"+t.serie.id,title:"Leer "+t.serie.Title+" en Ink&Takes"}},[s("div",{staticClass:"uk-button uk-button-primary"},[s("span",{attrs:{"uk-icon":"icon: pinterest"}}),t._v(" Pinterest ")])])],1)])},i=[],a={name:"Share",props:{serie:Object}},n=a,u=s("2877"),o=Object(u["a"])(n,r,i,!1,null,null,null);e["a"]=o.exports},"4f14":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.chapter?r("div",{attrs:{id:"it-viewer"}},[r("NavPages",{attrs:{chapter:t.chapter,chapter_page:t.chapter_page}}),r("NavPagesMobile",{attrs:{chapter:t.chapter,chapter_page:t.chapter_page}}),r("div",{staticClass:"it-viewer-mobile uk-background-muted uk-text-center uk-hidden@m"},[r("figure",{staticClass:"uk-margin-medium-top",attrs:{id:"it-viewer-chapter-cover"}},[r("caption",{staticClass:"uk-h3 uk-display-block"},[t._v("Portada")]),t.chapter.cover?r("img",{attrs:{src:t.chapter.cover.url,alt:t.chapter.name}}):r("img",{attrs:{src:s("59e0"),alt:t.chapter.name}})]),t._l(t.chapter.chapter_pages,(function(e){return r("figure",{key:e.id,staticClass:"uk-margin-medium-top",attrs:{id:"it-page-"+e.page_number}},[r("caption",{staticClass:"uk-h3 uk-display-block uk-text-small uk-margin-small-bottom"},[t._v("Página "+t._s(e.page_number))]),t.chapter.cover?r("img",{attrs:{src:e.page_file.url,alt:t.chapter.name}}):r("img",{attrs:{src:s("59e0"),alt:t.chapter.name}})])})),t._m(0)],2),r("div",{staticClass:"it-viewer-desktop uk-background-muted uk-text-center uk-visible@m"},[r("div",{staticClass:"uk-grid-collapse",attrs:{"uk-grid":""}},[r("div",{staticClass:"uk-width-2-3 uk-width-3-4@l uk-padding uk-background-secondary uk-panel-scrollable"},[r("img",{staticClass:"uk-border-rounded",class:t.classes,attrs:{src:t.url}})]),r("aside",{staticClass:"uk-width-1-3 uk-width-1-4@l uk-text-left  uk-panel-scrollable"},[r("div",{staticClass:"uk-padding-small"},[r("article",{staticClass:"uk-margin-large-bottom"},[r("h2",{staticClass:"uk-margin-remove-bottom"},[t._v(t._s(t.chapter.series.Title))]),r("p",{staticClass:"uk-margin-remove-top"},[t._v(t._s(t.chapter.series.Description))]),r("h4",{staticClass:"uk-margin-remove-bottom"},[t._v(t._s(t._f("translate")("CHAPTERS")))]),r("ul",{staticClass:"uk-list uk-list-divider uk-margin-small-top"},t._l(t.chapter.series.chapters,(function(e){return r("li",{key:e.id},[r("div",{staticClass:"uk-text-small"},[t._v(t._s(t._f("translate")("CHAPTER"))+" "+t._s(e.number))]),r("div",[t._v(t._s(e.name))])])})),0)]),t.disqus_url?r("Disqus",{attrs:{shortname:"inkandtales",identifier:t.disqus_id,url:t.disqus_url}}):t._e()],1)])])]),r("Share",{attrs:{serie:t.serie}})],1):r("Loading")},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("figure",{staticClass:"uk-margin-medium-top",attrs:{id:"it-viewer-chapter-last"}},[s("div",{staticClass:" uk-card uk-card-default uk-card-body"},[s("h3",[t._v("Publicidad Final")]),s("p",[t._v(" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolorea. ")])])])}],a=s("5530"),n=(s("4de4"),"Disqus shortname is required. (To resolve this, go to: https://ktquez.github.io/vue-disqus/setup.html#installation)"),u=["api_key","author_s3","category_id","identifier","integration","language","remote_auth_s3","slug","title","url"],o=["name","button","icon","url","logout","width","height"],c=["afterRender","onInit","onIdentify","beforeComment","onNewComment","onPaginate","onReady","preData","preInit","preReset"],l=function(t){return requestAnimationFrame((function(){return requestAnimationFrame(t)}))};function d(t,e,s,r,i,a,n,u,o,c){"boolean"!=typeof n&&(o=u,u=n,n=!1);var l,d="function"==typeof s?s.options:s;if(t&&t.render&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),r&&(d._scopeId=r),a?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,o(t)),t&&t._registeredComponents&&t._registeredComponents.add(a)},d._ssrRegister=l):e&&(l=n?function(t){e.call(this,c(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,u(t))}),l)if(d.functional){var h=d.render;d.render=function(t,e){return l.call(e),h(t,e)}}else{var p=d.beforeCreate;d.beforeCreate=p?[].concat(p,l):[l]}return s}var h=d({render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticStyle:{"min-height":"200px"},attrs:{id:"disqus_thread"}})},staticRenderFns:[]},void 0,{name:"Disqus",props:{shortname:String,pageConfig:{type:Object,validator:function(t){return Object.keys(t).every((function(t){return u.includes(t)}))}},ssoConfig:{type:Object,validator:function(t){return Object.keys(t).every((function(t){return o.includes(t)}))}},lang:{type:String,default:"en"},lazy:{type:Boolean,default:!0},lazyConfig:{type:Object,default:function(){return{root:null,rootMargin:"300px",threshold:.5}}}},data:function(){return{observer:null}},computed:{getShortname:function(){var t=this.shortname?this.shortname:this.$disqus?this.$disqus.shortname:null;if(!t)throw new Error(n);return t}},watch:{lang:function(){this.reset()}},mounted:function(){if(this.lazy)return this.observerDisqus();this.init()},methods:{init:function(){var t=this;if(this.$disqus&&(this.$disqus.reset=this.reset),window.DISQUS)return this.reset();var e=this.setBaseConfig;window.disqus_config=function(){e(this)},this.loadEmbedScript(),this.$route&&this.$watch("$route.path",(function(){return t.reset()}))},reset:function(t){void 0===t&&(t=window.DISQUS);var e=this.setBaseConfig;t.reset({reload:!0,config:function(){e(this)}})},observerDisqus:function(){if("IntersectionObserver"in window)return this.observer=new IntersectionObserver(this.handleObserver,this.lazyConfig),this.observer.observe(this.$el);this.init()},handleObserver:function(t){var e=this;t.forEach((function(t){t.isIntersecting&&(e.observer.disconnect(),e.init())}))},loadEmbedScript:function(){var t=document,e=t.createElement("script");e.setAttribute("id","embed-disqus"),e.setAttribute("data-timestamp",+new Date),e.type="text/javascript",e.async=!0,e.src="//"+this.getShortname+".disqus.com/embed.js",(t.head||t.body).appendChild(e)},setBaseConfig:function(t){this.setPageConfig(t),this.cbDisqus(t),this.ssoConfig&&Object.keys(this.ssoConfig).length&&Object.assign(t.sso,this.ssoConfig),t.language=this.lang},setPageConfig:function(t){var e={url:document.baseURI,identifier:this.$route?this.$route.path:window.location.pathname};Object.assign(t.page,e),this.pageConfig&&Object.keys(this.pageConfig).length&&Object.assign(t.page,this.pageConfig)},cbDisqus:function(t){var e=this;c.forEach((function(s){t.callbacks[s]=[function(t){e.$emit(s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().replace("on-",""),t)}]}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),p=d({render:function(){var t=this.$createElement;return(this._self._c||t)(this.tag,{tag:"component",staticClass:"disqus-comment-count",attrs:{href:this.getHref,"data-disqus-url":this.getUrl,"data-disqus-identifier":this.identifier}})},staticRenderFns:[]},void 0,{name:"DisqusCount",inheritAttrs:!1,props:{url:String,shortname:String,identifier:{type:String,required:!0},tag:{type:String,default:"span"}},mounted:function(){this.init()},computed:{getHref:function(){return"a"===this.tag?this.url+"#disqus_thread":null},getUrl:function(){return"span"===this.tag?this.url:null},getShortname:function(){var t=this.shortname?this.shortname:this.$disqus?this.$disqus.shortname:null;if(!t)throw new Error(n);return t}},methods:{init:function(){var t=this;if("DISQUSWIDGETS"in window)return l((function(){return t.reset()}));this.loadCountScript(),this.$route&&this.$watch("$route.path",(function(){return l((function(){return t.reset()}))}))},reset:function(t){void 0===t&&(t=window.DISQUSWIDGETS),t.getCount({reset:!0})},loadCountScript:function(){if(!document.getElementById("dsq-count-scr")){var t=document,e=t.createElement("script");e.async=!0,e.id="dsq-count-scr",e.src="//"+this.getShortname+".disqus.com/count.js",(t.head||t.body).appendChild(e)}}}},void 0,!1,void 0,!1,void 0,void 0,void 0);function v(t,e){void 0===e&&(e={}),t.component("Disqus",h),t.component("DisqusCount",p),t.prototype.$disqus={shortname:e.shortname||null,reset:null}}"undefined"!=typeof window&&void 0!==window.Vue&&window.Vue.use(v);var f=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.chapter.id?s("div",{attrs:{"uk-sticky":"sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky"}},[s("nav",{staticClass:"uk-navbar-container uk-light uk-visible@m",attrs:{id:"it-nav-viewer","uk-navbar":""}},[s("div",{staticClass:"uk-navbar-left"},[s("router-link",{staticClass:"uk-navbar-item uk-logo",attrs:{to:t.back}},[t._v(" "+t._s(t._f("translate")("BACK"))+" ")])],1),s("div",{staticClass:"uk-navbar-center"},[t.chapter?s("ul",{staticClass:"uk-navbar-nav"},[t.previous?s("li",[s("router-link",{attrs:{to:t.previous}},[s("span",{attrs:{"uk-icon":"chevron-left"}}),t._v(" "+t._s(t._f("translate")("PREVIOUS")))])],1):s("li",[s("a",{staticClass:"uk-disabled",attrs:{href:"#"}},[s("span",{attrs:{"uk-icon":"chevron-left"}}),t._v(" "+t._s(t._f("translate")("PREVIOUS")))])]),t.next?s("li",[s("router-link",{attrs:{to:t.next}},[t._v(t._s(t._f("translate")("NEXT"))+" "),s("span",{attrs:{"uk-icon":"chevron-right"}})])],1):s("li",[s("a",{staticClass:"uk-disabled",attrs:{href:"#"}},[t._v(t._s(t._f("translate")("NEXT"))+" "),s("span",{attrs:{"uk-icon":"chevron-right"}})])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return t.viewFit("fit-height")}}},[t._v(t._s(t._f("translate")("FIT_HEIGHT"))+" ↕")])]),s("li",[s("a",{attrs:{href:"#"},on:{click:function(e){return t.viewFit("fit-width")}}},[t._v(t._s(t._f("translate")("FIT_WIDTH"))+" ↔")])]),t.isFullscreen?t._e():s("li",{staticClass:"uk-visible@l"},[s("a",{attrs:{href:"#"},on:{click:t.go_full_screen}},[t._v(t._s(t._f("translate")("FULLSCREEN"))+" "),s("span",{attrs:{"uk-icon":"expand"}})])]),t.isFullscreen?s("li",{staticClass:"uk-visible@l"},[s("a",{attrs:{href:"#"},on:{click:t.close_full_screen}},[t._v(t._s(t._f("translate")("FULLSCREEN_EXIT"))+" "),s("span",{attrs:{"uk-icon":"expand"}})])]):t._e()]):t._e()]),s("div",{staticClass:"uk-navbar-right"},[s("ul",{staticClass:"uk-navbar-nav"},[s("li",[s("a",{attrs:{href:"#"}},[t._v("Go to page "+t._s(t.chapter_page.page_number))]),s("div",{staticClass:"uk-navbar-dropdown"},[s("ul",{staticClass:"uk-nav uk-navbar-dropdown-nav"},t._l(t.chapter.chapter_pages,(function(e){return s("li",{key:e.id,attrs:{value:e.page_number}},[s("router-link",{attrs:{to:"/viewer/"+t.chapter.id+"/"+e.id}},[t._v(" Page "+t._s(e.page_number)+" ")])],1)})),0)])])])])])]):t._e()},m=[],g=s("2f62"),k={name:"NavPages",props:{chapter_page:Object,chapter:Object},data:function(){return{isActive:!1,isFullscreen:!1}},computed:{back:function(){return"/serie/"+this.chapter.series.id},next:function(){var t=this.currentIndex();return this.maxPages()>t+1?this.urlFor(t+1):null},previous:function(){var t=this.currentIndex();return t>0?this.urlFor(t-1):null}},methods:Object(a["a"])(Object(a["a"])({},Object(g["c"])("viewer",["setFitClass"])),{},{maxPages:function(){return this.chapter.chapter_pages.length},currentIndex:function(){return this.chapter.chapter_pages.indexOf(this.chapter_page)},urlFor:function(t){var e;return{path:"/viewer/"+this.chapter.id+"/"+(null===(e=this.chapter.chapter_pages[t])||void 0===e?void 0:e.id)}},viewFit:function(t){this.setFitClass(t)},go_full_screen:function(){this.isFullscreen=!0;var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},close_full_screen:function(){this.isFullscreen=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen()}})},_=k,b=s("2877"),C=Object(b["a"])(_,f,m,!1,null,null,null),w=C.exports,q=s("3a5e"),y=s("17a4"),S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.chapter.id?s("div",[s("nav",{staticClass:"uk-navbar-container uk-position-top uk-position-fixed uk-light uk-hidden@m",attrs:{id:"it-nav-viewer-top","uk-navbar":""}},[s("div",{staticClass:"uk-navbar-left"},[s("router-link",{staticClass:"uk-navbar-item",attrs:{to:t.back}},[s("span",{attrs:{"uk-icon":"arrow-left"}})]),s("div",{staticClass:"uk-navbar-item"},[t._v(t._s(t.chapter.series.Title)+" | "+t._s(t.chapter.name))])],1),t._m(0)])]):t._e()},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"uk-navbar-right"},[s("ul",{staticClass:"uk-navbar-nav"},[s("li",[s("a",{attrs:{href:"#modal-share","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"social"}})])])])])}],I={name:"NavPagesMobile",props:{chapter_page:Object,chapter:Object},data:function(){return{isActive:!1}},computed:{back:function(){return this.chapter.series.has_chapter?"/serie/"+this.chapter.series.id+"/chapter/"+this.chapter.id:"/serie/"+this.chapter.series.id},next:function(){var t=this.currentIndex();return this.maxPages()>t+1?this.urlFor(t+1):null},previous:function(){var t=this.currentIndex();return t>0?this.urlFor(t-1):null}},methods:{maxPages:function(){return this.chapter.chapter_pages.length},currentIndex:function(){return this.chapter.chapter_pages.indexOf(this.chapter_page)},urlFor:function(t){var e;return{path:"#it-page-"+(null===(e=this.chapter.chapter_pages[t])||void 0===e?void 0:e.page_number)}}}},$=I,E=Object(b["a"])($,S,F,!1,null,null,null),x=E.exports,O=s("4868"),T={data:function(){return{api_url:"https://glacial-chamber-38684.herokuapp.com",chapter:null,chapterId:this.$route.params.serie,chapterPageId:this.$route.params.chapter,disqus_id:null,disqus_url:null}},computed:Object(a["a"])(Object(a["a"])({},Object(g["b"])("viewer",["currentClass"])),{},{classes:function(){return this.currentClass},chapter_page:function(){var t=this;return this.chapter.chapter_pages.filter((function(e){return e.id==t.chapterPageId}))[0]},url:function(){var t=this,e=this.chapter.chapter_pages.filter((function(e){return e.id==t.chapterPageId}))[0];return e?e.page_file.url:""}}),mounted:function(){var t=this;document.body.classList.add("it-viewer"),setTimeout((function(){t.disqus_id=t.$route.params.chapter,t.disqus_url="https://inkandtales.com/viewer/"+t.$route.params.serie+"/"+t.$route.params.chapter}),100)},destroyed:function(){document.body.classList.remove("it-viewer")},components:{Disqus:h,Loading:q["a"],NavPages:w,Share:y["a"],NavPagesMobile:x},apollo:{chapter:{query:O["r"],variables:function(){return{id:this.chapterId}},skip:function(){return console.log("this.chapterId",this.chapterId),!this.chapterId}}}},j=T,P=Object(b["a"])(j,r,i,!1,null,null,null);e["default"]=P.exports}}]);
//# sourceMappingURL=viewer.fa2e9a4c.js.map