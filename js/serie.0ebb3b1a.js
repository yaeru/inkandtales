(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["serie"],{"17a4":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"uk-modal-share","uk-modal":""}},[s("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical uk-modal-body uk-text-center uk-border-rounded"},[s("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),s("h2",{staticClass:"uk-modal-title"},[t._v(t._s(t._f("translate")("SHARE"))),s("br",{staticClass:"uk-hidden@m"}),t._v(" "+t._s(t.serie.Title))]),s("ShareNetwork",{attrs:{network:"twitter",url:"https://inkandtales.com/#/serie/"+t.serie.id,title:"Leer "+t.serie.Title+" en Ink&Takes",description:t.serie.Description,hashtags:(t.serie.Title+",InkAndTales").replace(/\s*,\s*/g,",").replace(/\s+/g,"")}},[s("div",{staticClass:"uk-button uk-button-primary"},[s("span",{attrs:{"uk-icon":"icon: facebook"}}),t._v(" Twitter ")])]),s("ShareNetwork",{attrs:{network:"facebook",url:"https://inkandtales.com/#/serie/"+t.serie.id,title:"Leer "+t.serie.Title+" en Ink&Takes",description:t.serie.Description,quote:t.serie.Title+": "+t.serie.Description,hashtags:(t.serie.Title+",InkAndTales").replace(/\s*,\s*/g,",").replace(/\s+/g,"")}},[s("div",{staticClass:"uk-button uk-button-primary"},[s("span",{attrs:{"uk-icon":"icon: facebook"}}),t._v(" Facebook ")])]),s("ShareNetwork",{attrs:{network:"pinterest",url:"https://inkandtales.com/#/serie/"+t.serie.id,title:"Leer "+t.serie.Title+" en Ink&Takes"}},[s("div",{staticClass:"uk-button uk-button-primary"},[s("span",{attrs:{"uk-icon":"icon: pinterest"}}),t._v(" Pinterest ")])])],1)])},a=[],i={name:"Share",props:{serie:Object}},n=i,o=s("2877"),l=Object(o["a"])(n,r,a,!1,null,null,null);e["a"]=l.exports},2651:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.serie?r("div",{attrs:{id:"it-serie"}},[r("vue-headful",{attrs:{title:t.serie.Title+" - Ink & Tales",description:t.serie.Description}}),r("section",{staticClass:"uk-section uk-section-small uk-text-center uk-text-left@m",attrs:{id:"it-serie-hero"}},[r("div",{staticClass:"uk-container uk-container-large"},[r("div",{staticClass:"uk-flex-middle",attrs:{"uk-grid":""}},[r("div",{staticClass:"uk-width-2-5@m uk-width-1-2@l it-serie-art uk-hidden@m"},[r("figure",{staticClass:"it-cover"},[t.serie.cover?r("img",{staticClass:"uk-border-rounded",attrs:{src:t.serie.cover.url,alt:t.serie.Title}}):r("img",{staticClass:"uk-border-rounded",attrs:{src:s("59e0"),alt:t.serie.Title}})])]),r("div",{staticClass:"uk-width-3-5@m uk-width-1-2@l it-serie-info"},[t.serie.genres?r("p",{staticClass:"it-serie-genre"},t._l(t.serie.genres,(function(e){return r("span",{key:e.id},[t._v(" "+t._s(e.name)+" ")])})),0):t._e(),r("h1",{staticClass:"it-serie-title uk-margin-remove"},[t._v(t._s(t.serie.Title))]),r("h2",{staticClass:"it-serie-author uk-text-large uk-margin-small-top"},t._l(t.serie.authors,(function(e){return r("span",{key:e.id},[r("router-link",{key:e.id,staticClass:"uk-link-reset",attrs:{to:{path:"/author/"+e.id}}},[t._v(" "+t._s(e.name)+" ")])],1)})),0),r("p",{staticClass:"it-serie-meta uk-article-meta uk-flex uk-flex-middle uk-flex-center uk-flex-left@m"},[r("span",{staticClass:"uk-label uk-label-primary uk-margin-small-right"},[t.serie.is_finish?r("span",[t._v(t._s(t._f("translate")("COMPLETE")))]):r("span",[t._v(t._s(t._f("translate")("ONGOING")))])]),t.serie.editorial?r("a",{staticClass:"uk-margin-small-right",attrs:{href:t.serie.editorial.url,target:"_blank"}},[t._v(" "+t._s(t._f("translate")("EDITORIAL"))+" "+t._s(t.serie.editorial.name)+" ")]):t._e(),t.serie.updated_at?r("span",{staticClass:"uk-visible@m"},[t._v(" "+t._s(t._f("translate")("LASTUPDATE"))+" "+t._s(t.moment(t.serie.updated_at).format("DD MMM YY"))+" ")]):t._e()]),t.serie.Description?r("vue-markdown-it",{staticClass:"it-serie-description",attrs:{source:t.serie.Description}}):t._e(),r("nav",{staticClass:"it-serie-actionbar uk-flex uk-flex-middle uk-visible@m"},[t.read?r("router-link",{staticClass:"it-button-readnow uk-button uk-button-large uk-button-dark",attrs:{to:t.read}},[t._v(" "+t._s(t._f("translate")("SERIE_READ"))+" ")]):t._e(),t.username?r("div",[0==t.serie.follow_series.length?r("button",{staticClass:"ik-button-fav uk-button uk-button-large uk-button-primary addtofav",attrs:{type:"button"},on:{click:t.addToFav}},[r("span",{attrs:{"uk-icon":"unfollow"}})]):r("button",{staticClass:"ik-button-fav uk-button uk-button-large uk-button-primary removefromfav",attrs:{type:"button"},on:{click:t.removeFromFav}},[r("span",{attrs:{"uk-icon":"follow"}})])]):r("div",[t._m(0)]),t._m(1),r("Share",{attrs:{serie:t.serie}})],1)],1),r("div",{staticClass:"uk-width-2-5@m uk-width-1-2@l uk-visible@m",attrs:{id:"it-serie-cover"}},[r("figure",{staticClass:"it-cover"},[t.serie.cover?r("img",{staticClass:"uk-border-rounded",attrs:{src:t.serie.cover.url,alt:t.serie.Title}}):r("img",{staticClass:"uk-border-rounded",attrs:{src:s("59e0"),alt:t.serie.Title}})])])])])]),t.serie.has_chapter?r("section",{staticClass:"uk-section uk-section-small"},[r("div",{staticClass:"uk-container uk-container-large"},[r("ChapterList",{attrs:{serie:t.serie}})],1)]):t._e(),r("section",{staticClass:"uk-section",attrs:{id:"it-serie-related"}},[r("div",{staticClass:"uk-container uk-container-large"},[r("h3",{staticClass:"uk-text-large uk-article-title"},[t._v(t._s(t._f("translate")("RELATED")))]),r("SeriesRelated",{attrs:{serie:t.serie}})],1)]),r("nav",{staticClass:"uk-navbar-container uk-position-fixed uk-position-bottom uk-hidden@m",attrs:{id:"it-serie-nav","uk-navbar":""}},[r("div",{staticClass:"uk-navbar-left"},[r("ul",{staticClass:"uk-navbar-nav"},[r("li",[t.read?r("router-link",{staticClass:"it-button-readnow",attrs:{to:t.read}},[t._v(" "+t._s(t._f("translate")("SERIE_READ"))+" ")]):r("a",{staticClass:"it-button-readnow uk-disabled",attrs:{href:"#"}},[t._v(" "+t._s(t._f("translate")("SERIE_READ"))+" ")])],1)])]),r("div",{staticClass:"uk-navbar-right"},[r("ul",{staticClass:"uk-navbar-nav"},[t.username?r("li",[0==t.serie.follow_series.length?r("a",{staticClass:"ik-button-fav addtofav",on:{click:t.addToFav}},[r("span",{attrs:{"uk-icon":"unfollow"}})]):r("a",{staticClass:"ik-button-fav removefromfav",on:{click:t.removeFromFav}},[r("span",{attrs:{"uk-icon":"follow"}})])]):t._e(),t._m(2),r("li",[t._m(3),r("Share",{attrs:{serie:t.serie}})],1)])])])],1):r("Loading")},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"ik-button-fav uk-button uk-button-large uk-button-primary",attrs:{href:"#modal-login","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"heart"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"uk-button uk-button-large uk-button-primary",attrs:{type:"button","uk-toggle":"target: #modal-share"}},[s("span",{attrs:{"uk-icon":"social"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("a",{staticClass:"ik-button-fav removefromfav",attrs:{href:"#modal-login","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"unfollow"}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{attrs:{href:"#modal-share","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"social"}})])}],i=s("1da1"),n=(s("159b"),s("96cf"),s("7034")),o=s.n(n),l=s("4868"),u=s("e90c"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.serie?s("div",[s("div",{},[s("h3",{staticClass:"uk-text-large uk-margin-remove"},[t._v(t._s(t.serie.chapters.length)+" "+t._s(t._f("translate")("CHAPTERS")))]),s("ul",{staticClass:"uk-list uk-list-divider"},t._l(t.serie.chapters,(function(e){return s("li",{key:e.id},[s("router-link",{staticClass:"uk-link-reset uk-grid-small",attrs:{to:t.read(e),"uk-grid":""}},[s("div",{staticClass:"uk-width-auto"},[s("span",{staticClass:"it-chapter-number uk-article-title uk-text-muted"},[t._v(t._s(e.number))])]),s("div",{staticClass:"uk-width-expand"},[s("h3",{staticClass:"uk-margin-remove"},[t._v(" "+t._s(e.name)+" ")]),s("div",{staticClass:"uk-flex uk-flex-middle"},[s("span",{staticClass:"uk-margin-right"},[t._v(t._s(t.moment(t.serie.updated_at).format("DD MMM YY")))]),s("span",{staticClass:"uk-margin-right"},[t._v(t._s(e.chapter_pages.length)+" "+t._s(t._f("translate")("CHAPTER_PAGES_TOTAL")))])])])])],1)})),0)])]):t._e()},d=[],k=s("c1df"),h={name:"ChapterList",data:function(){return{moment:k,api_url:"https://glacial-chamber-38684.herokuapp.com",oldToNew:!0}},methods:{toggleSort:function(){this.oldToNew=!this.oldToNew,this.oldToNew?this.serie.chapters=this.serie.chapters.sort(this.oldToNewFuntion):this.serie.chapters=this.serie.chapters.sort(this.newToOldFuntion)},oldToNewFuntion:function(t,e){return t.number<e.number?-1:1},newToOldFuntion:function(t,e){return t.number<e.number?1:-1},read:function(t){var e;return this.serie&&this.serie.chapters&&0!=this.serie.chapters.length?{path:"/viewer/"+t.id+"/"+(null===(e=t.chapter_pages[0])||void 0===e?void 0:e.id)}:null}},props:{serie:Object},computed:{}},m=h,p=s("2877"),v=Object(p["a"])(m,c,d,!1,null,null,null),f=v.exports,_=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.series?s("SeriesList",{attrs:{series:t.series||[],classProp:"uk-child-width-1-5@l"}}):t._e()},b=[],g=(s("d81d"),s("94aa")),C={name:"SeriesRelated",data:function(){return{series:null,api_url:"https://glacial-chamber-38684.herokuapp.com"}},props:{serie:Object},components:{SeriesList:g["a"]},apollo:{series:{query:l["o"],variables:function(){return{id:this.routeParam,genreIds:this.serie.genres.map((function(t){return t.id}))}},skip:function(){return!this.serie}}}},w=C,T=Object(p["a"])(w,_,b,!1,null,null,null),E=T.exports,x=s("17a4"),y=s("3a5e"),S=s("c1df"),I={mounted:function(){var t=this;this.loadUsername(),setTimeout((function(){t.id=t.$store.getters["auth/getId"],t.$apollo.queries.serie.refetch()}),100)},data:function(){return{serie:null,username:null,moment:S,api_url:"https://glacial-chamber-38684.herokuapp.com",routeParam:this.$route.params.id,id:null}},computed:{read:function(){var t;if(!this.serie||!this.serie.chapters||0==this.serie.chapters.length)return null;var e=this.serie.chapters[0];return{path:"/viewer/"+e.id+"/"+(null===(t=e.chapter_pages[0])||void 0===t?void 0:t.id)}}},methods:{loadUsername:function(){var t=this;setTimeout((function(){t.username=t.$store.getters["auth/getUsername"],t.userId=t.$store.getters["auth/getId"]}),1e3)},addToFav:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u["a"].createEntry("follow-series",{series:{_id:t.serie.id},user:{_id:t.id}}).then((function(e){t.serie.follow_series.push(e)})).catch((function(t){return console.debug("err",t)}));case 2:case"end":return e.stop()}}),e)})))()},removeFromFav:function(){var t=this;this.serie.follow_series.forEach((function(e){u["a"].deleteEntry("follow-series",e.id).then((function(){t.serie.follow_series=[]})).catch((function(t){return console.debug("err",t)}))}))}},components:{Loading:y["a"],VueMarkdownIt:o.a,ChapterList:f,SeriesRelated:E,Share:x["a"]},apollo:{serie:{query:l["p"],variables:function(){var t;return{id:this.routeParam,userId:null!==(t=this.id)&&void 0!==t?t:0}}}}},D=I,R=Object(p["a"])(D,r,a,!1,null,null,null);e["default"]=R.exports},d81d:function(t,e,s){"use strict";var r=s("23e7"),a=s("b727").map,i=s("1dde"),n=i("map");r({target:"Array",proto:!0,forced:!n},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=serie.0ebb3b1a.js.map