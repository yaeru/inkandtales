(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["serie"],{"17a4":function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"it-modal-share","uk-modal":""}},[s("div",{staticClass:"uk-modal-dialog uk-margin-auto-vertical uk-modal-body uk-text-center uk-border-rounded"},[s("button",{staticClass:"uk-modal-close-default",attrs:{type:"button","uk-close":""}}),s("h2",{staticClass:"uk-modal-title"},[e._v(e._s(e._f("translate")("SHARE"))),s("br",{staticClass:"uk-hidden@m"}),e._v(" "+e._s(e.serie.Title))]),s("div",{staticClass:"uk-child-width-1-2 uk-child-width-1-3@m uk-grid-small",attrs:{"uk-grid":"","uk-margin":""}},[s("div",[s("ShareNetwork",{attrs:{network:"whatsapp",url:"https://inkandtales.com/serie/"+e.serie.id,title:"Leer "+e.serie.Title+" en Ink&Takes.",description:e.serie.Description}},[s("span",{attrs:{"uk-icon":"icon: whatsapp"}}),e._v(" Whatsapp ")])],1),s("div",[s("ShareNetwork",{attrs:{network:"telegram",url:"https://inkandtales.com/serie/"+e.serie.id,title:"Leer "+e.serie.Title+" en Ink&Takes.",description:e.serie.Description}},[s("span",{attrs:{"uk-icon":"icon: telegram"}}),e._v(" Telegram ")])],1),s("div",[s("ShareNetwork",{attrs:{network:"twitter",url:"https://inkandtales.com/serie/"+e.serie.id,title:"Leer "+e.serie.Title+" en Ink&Takes.",description:e.serie.Description,hashtags:(e.serie.Title+",InkAndTales").replace(/\s*,\s*/g,",").replace(/\s+/g,"")}},[s("span",{attrs:{"uk-icon":"icon: facebook"}}),e._v(" Twitter ")])],1),s("div",[s("ShareNetwork",{attrs:{network:"facebook",url:"https://inkandtales.com/serie/"+e.serie.id,title:"Leer "+e.serie.Title+" en Ink&Takes.",description:e.serie.Description,quote:e.serie.Title+": "+e.serie.Description,hashtags:(e.serie.Title+",InkAndTales").replace(/\s*,\s*/g,",").replace(/\s+/g,"")}},[s("span",{attrs:{"uk-icon":"icon: facebook"}}),e._v(" Facebook ")])],1),s("div",[s("ShareNetwork",{attrs:{network:"pinterest",url:"https://inkandtales.com/serie/"+e.serie.id,title:"Leer "+e.serie.Title+" en Ink&Takes."}},[s("span",{attrs:{"uk-icon":"icon: pinterest"}}),e._v(" Pinterest ")])],1),s("div",[s("ShareNetwork",{attrs:{network:"messenger",url:"https://inkandtales.com/serie/"+e.serie.id}},[s("span",{attrs:{"uk-icon":"icon: messenger"}}),e._v(" Messenger ")])],1)])])])},i=[],a={name:"Share",props:{serie:Object}},n=a,l=s("2877"),o=Object(l["a"])(n,r,i,!1,null,null,null);t["a"]=o.exports},2651:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.serie?r("div",{attrs:{id:"it-serie"}},[r("vue-headful",{attrs:{title:e.serie.Title+" - Ink & Tales",description:e.serie.Description}}),r("section",{staticClass:"uk-section uk-section-small uk-text-center uk-text-left@m",attrs:{id:"it-serie-hero"}},[r("div",{staticClass:"uk-container uk-container-large"},[r("div",{staticClass:"uk-flex-middle",attrs:{"uk-grid":""}},[r("div",{staticClass:"uk-width-2-5@m uk-width-1-2@l it-serie-art uk-hidden@m"},[r("figure",{staticClass:"it-cover"},[e.serie.cover?r("img",{staticClass:"uk-border-rounded",attrs:{src:e.serie.cover.url,alt:e.serie.Title}}):r("img",{staticClass:"uk-border-rounded",attrs:{src:s("59e0"),alt:e.serie.Title}})])]),r("div",{staticClass:"uk-width-3-5@m uk-width-1-2@l it-serie-info"},[e.serie.genres?r("p",{staticClass:"it-serie-genre"},e._l(e.serie.genres,(function(t){return r("span",{key:t.id},[e._v(" "+e._s(t.name)+" ")])})),0):e._e(),r("h1",{staticClass:"it-serie-title uk-margin-remove"},[e._v(e._s(e.serie.Title))]),r("h2",{staticClass:"it-serie-author uk-text-large uk-margin-small-top"},e._l(e.serie.authors,(function(t){return r("span",{key:t.id},[r("router-link",{key:t.id,staticClass:"uk-link-reset",attrs:{to:{path:"/author/"+t.id}}},[e._v(" "+e._s(t.name)+" ")])],1)})),0),r("p",{staticClass:"it-serie-meta uk-article-meta uk-flex uk-flex-middle uk-flex-center uk-flex-left@m"},[r("span",{staticClass:"uk-label uk-label-primary uk-margin-small-right"},[e.serie.is_finish?r("span",[e._v(e._s(e._f("translate")("COMPLETE")))]):r("span",[e._v(e._s(e._f("translate")("ONGOING")))])]),e.serie.editorial?r("a",{staticClass:"uk-margin-small-right",attrs:{href:e.serie.editorial.url,target:"_blank"}},[e._v(" "+e._s(e._f("translate")("EDITORIAL"))+" "+e._s(e.serie.editorial.name)+" ")]):e._e(),e.serie.updated_at?r("span",{staticClass:"uk-visible@m"},[e._v(" "+e._s(e._f("translate")("LASTUPDATE"))+" "+e._s(e.moment(e.serie.updated_at).format("DD MMM YY"))+" ")]):e._e()]),e.serie.Description?r("vue-markdown-it",{staticClass:"it-serie-description",attrs:{source:e.serie.Description}}):e._e(),r("nav",{staticClass:"it-serie-actionbar uk-flex uk-flex-middle uk-visible@m"},[e.read?r("router-link",{staticClass:"it-button-readnow uk-button uk-button-large uk-button-dark",attrs:{to:e.read}},[e._v(" "+e._s(e._f("translate")("SERIE_READ"))+" ")]):e._e(),e.username?r("div",[0==e.serie.follow_series.length?r("button",{staticClass:"ik-button-fav uk-button uk-button-large uk-button-primary addtofav",attrs:{type:"button"},on:{click:e.addToFav}},[r("span",{attrs:{"uk-icon":"unfollow"}})]):r("button",{staticClass:"ik-button-fav uk-button uk-button-large uk-button-primary removefromfav",attrs:{type:"button"},on:{click:e.removeFromFav}},[r("span",{attrs:{"uk-icon":"follow"}})])]):r("div",[e._m(0)]),e._m(1),r("Share",{attrs:{serie:e.serie}})],1)],1),r("div",{staticClass:"uk-width-2-5@m uk-width-1-2@l uk-visible@m",attrs:{id:"it-serie-cover"}},[r("figure",{staticClass:"it-cover"},[e.serie.cover?r("img",{staticClass:"uk-border-rounded",attrs:{src:e.serie.cover.url,alt:e.serie.Title}}):r("img",{staticClass:"uk-border-rounded",attrs:{src:s("59e0"),alt:e.serie.Title}})])])])])]),e.serie.has_chapter?r("section",{staticClass:"uk-section uk-section-small"},[r("div",{staticClass:"uk-container uk-container-large"},[r("ChapterList",{attrs:{serie:e.serie}})],1)]):e._e(),r("section",{staticClass:"uk-section",attrs:{id:"it-serie-related"}},[r("div",{staticClass:"uk-container uk-container-large"},[r("h3",{staticClass:"uk-text-large uk-article-title"},[e._v(e._s(e._f("translate")("RELATED")))]),r("SeriesRelated",{attrs:{serie:e.serie}})],1)]),r("nav",{staticClass:"uk-navbar-container uk-position-fixed uk-position-bottom uk-hidden@m",attrs:{id:"it-serie-nav","uk-navbar":""}},[r("div",{staticClass:"uk-navbar-left"},[r("ul",{staticClass:"uk-navbar-nav"},[r("li",[e.read?r("router-link",{staticClass:"it-button-readnow",attrs:{to:e.read}},[e._v(" "+e._s(e._f("translate")("SERIE_READ"))+" ")]):r("a",{staticClass:"it-button-readnow uk-disabled",attrs:{href:"#"}},[e._v(" "+e._s(e._f("translate")("SERIE_READ"))+" ")])],1)])]),r("div",{staticClass:"uk-navbar-right"},[r("ul",{staticClass:"uk-navbar-nav"},[e.username?r("li",[0==e.serie.follow_series.length?r("a",{staticClass:"ik-button-fav addtofav",on:{click:e.addToFav}},[r("span",{attrs:{"uk-icon":"unfollow"}})]):r("a",{staticClass:"ik-button-fav removefromfav",on:{click:e.removeFromFav}},[r("span",{attrs:{"uk-icon":"follow"}})])]):e._e(),e._m(2),r("li",[e._m(3),r("Share",{attrs:{serie:e.serie}})],1)])])])],1):r("Loading")},i=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"ik-button-fav uk-button uk-button-large uk-button-primary",attrs:{href:"#modal-login","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"heart"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"uk-button uk-button-large uk-button-primary",attrs:{type:"button","uk-toggle":"target: #it-modal-share"}},[s("span",{attrs:{"uk-icon":"social"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",[s("a",{staticClass:"ik-button-fav removefromfav",attrs:{href:"#modal-login","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"unfollow"}})])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{attrs:{href:"#it-modal-share","uk-toggle":""}},[s("span",{attrs:{"uk-icon":"social"}})])}],a=s("1da1"),n=(s("159b"),s("96cf"),s("7034")),l=s.n(n),o=s("4868"),u=s("e90c"),c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.serie?s("div",[s("div",{},[s("h3",{staticClass:"uk-text-large uk-margin-remove"},[e._v(e._s(e.serie.chapters.length)+" "+e._s(e._f("translate")("CHAPTERS")))]),s("ul",{staticClass:"uk-list uk-list-divider"},e._l(e.serie.chapters,(function(t){return s("li",{key:t.id},[s("router-link",{staticClass:"uk-link-reset uk-grid-small",attrs:{to:e.read(t),"uk-grid":""}},[s("div",{staticClass:"uk-width-auto"},[s("span",{staticClass:"it-chapter-number uk-article-title uk-text-muted"},[e._v(e._s(t.number))])]),s("div",{staticClass:"uk-width-expand"},[s("h3",{staticClass:"uk-margin-remove"},[e._v(" "+e._s(t.name)+" ")]),s("div",{staticClass:"uk-flex uk-flex-middle"},[s("span",{staticClass:"uk-margin-right"},[e._v(e._s(e.moment(e.serie.updated_at).format("DD MMM YY")))]),s("span",{staticClass:"uk-margin-right"},[e._v(e._s(t.chapter_pages.length)+" "+e._s(e._f("translate")("CHAPTER_PAGES_TOTAL")))])])])])],1)})),0)])]):e._e()},d=[],k=s("c1df"),h={name:"ChapterList",data:function(){return{moment:k,api_url:"https://glacial-chamber-38684.herokuapp.com",oldToNew:!0}},methods:{toggleSort:function(){this.oldToNew=!this.oldToNew,this.oldToNew?this.serie.chapters=this.serie.chapters.sort(this.oldToNewFuntion):this.serie.chapters=this.serie.chapters.sort(this.newToOldFuntion)},oldToNewFuntion:function(e,t){return e.number<t.number?-1:1},newToOldFuntion:function(e,t){return e.number<t.number?1:-1},read:function(e){var t;return this.serie&&this.serie.chapters&&0!=this.serie.chapters.length?{path:"/viewer/"+e.id+"/"+(null===(t=e.chapter_pages[0])||void 0===t?void 0:t.id)}:null}},props:{serie:Object},computed:{}},m=h,p=s("2877"),v=Object(p["a"])(m,c,d,!1,null,null,null),f=v.exports,_=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.series?s("SeriesList",{attrs:{series:e.series||[],classProp:"uk-child-width-1-5@l"}}):e._e()},g=[],b=(s("d81d"),s("94aa")),w={name:"SeriesRelated",data:function(){return{series:null,api_url:"https://glacial-chamber-38684.herokuapp.com"}},props:{serie:Object},components:{SeriesList:b["a"]},apollo:{series:{query:o["o"],variables:function(){return{id:this.routeParam,genreIds:this.serie.genres.map((function(e){return e.id}))}},skip:function(){return!this.serie}}}},C=w,T=Object(p["a"])(C,_,g,!1,null,null,null),E=T.exports,x=s("17a4"),S=s("3a5e"),I=s("c1df"),y={mounted:function(){var e=this;this.loadUsername(),setTimeout((function(){e.id=e.$store.getters["auth/getId"],e.$apollo.queries.serie.refetch()}),100)},data:function(){return{serie:null,username:null,moment:I,api_url:"https://glacial-chamber-38684.herokuapp.com",routeParam:this.$route.params.id,id:null}},computed:{read:function(){var e;if(!this.serie||!this.serie.chapters||0==this.serie.chapters.length)return null;var t=this.serie.chapters[0];return{path:"/viewer/"+t.id+"/"+(null===(e=t.chapter_pages[0])||void 0===e?void 0:e.id)}}},methods:{loadUsername:function(){var e=this;setTimeout((function(){e.username=e.$store.getters["auth/getUsername"],e.userId=e.$store.getters["auth/getId"]}),1e3)},addToFav:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u["a"].createEntry("follow-series",{series:{_id:e.serie.id},user:{_id:e.id}}).then((function(t){e.serie.follow_series.push(t)})).catch((function(e){return console.debug("err",e)}));case 2:case"end":return t.stop()}}),t)})))()},removeFromFav:function(){var e=this;this.serie.follow_series.forEach((function(t){u["a"].deleteEntry("follow-series",t.id).then((function(){e.serie.follow_series=[]})).catch((function(e){return console.debug("err",e)}))}))}},components:{Loading:S["a"],VueMarkdownIt:l.a,ChapterList:f,SeriesRelated:E,Share:x["a"]},apollo:{serie:{query:o["p"],variables:function(){var e;return{id:this.routeParam,userId:null!==(e=this.id)&&void 0!==e?e:0}}}}},D=y,L=Object(p["a"])(D,r,i,!1,null,null,null);t["default"]=L.exports},d81d:function(e,t,s){"use strict";var r=s("23e7"),i=s("b727").map,a=s("1dde"),n=a("map");r({target:"Array",proto:!0,forced:!n},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=serie.ee238dc3.js.map